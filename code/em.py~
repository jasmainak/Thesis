import numpy as np

def EM(s, X, t, lim_inf=None, lim_sup=None):
    '''
    Compute the excess-mass curve at point t of a scoring function s
    Parameters:
    t: float
    s: scoring function (eg damex.predict)
    '''
    n_generated = 100
    precision = 0.1
    volume_support = (lim_sup - lim_inf).prod()    
    unif = np.random.uniform(lim_inf, lim_sup, n_generated)
    s_unif = s(unif)
    max_s = s_unif.max()
    min_s = s_unif.min()
    for u in arange(min_s, max_s, precision):
        inliers = s_unif > u 
        lambda_u = sum(inliers) / n_generated * volume_support
        EM_u = 
