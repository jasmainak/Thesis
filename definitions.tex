%% ----------------------------------------------------------------
%% Definitions.tex
%% ---------------------------------------------------------------- 
\newcommand{\BibTeX}{{\rm B\kern-.05em{\sc i\kern-.025em b}\kern-.08em T\kern-.1667em\lower.7ex\hbox{E}\kern-.125emX}}

%% People
%\newcounter{address}
%\setcounter{address}{1}
%\renewcommand{\theaddress}{\textsuperscript{\fnsymbol{address}}}
%\newcommand{\address}[1]{\refstepcounter{address}\theaddress#1\\}
%\newcommand{\Name}[3]{\texorpdfstring{\href{mailto:#3}{#2}#1}{#2}\xspace}
%\newcommand{\SteveRGunn}[1]{\Name{#1}{Steve R. Gunn}{S.R.Gunn@ecs.soton.ac.uk}}





\newcommand{\vide}[1]{}  % tikz drougui
\usepackage{pgfplots}  % ocrf nico gridplot


% change margins locally:
\usepackage{setspace}
\renewcommand{\baselinestretch}{1.0}



\usepackage{times}
\usepackage[utf8]{inputenc} % pour les accents
%\usepackage{euler}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{dsfont}
\usepackage{caption} %pour figure caption in minipage which does not allow envir figure
\usepackage{float}
\usepackage{amsthm}
\usepackage{natbib}
\usepackage{tikz}
\usetikzlibrary{decorations.pathreplacing}
\usepackage{graphicx}
%\usepackage{arydshln}  % for dashed lines in table
\usepackage{algorithm}
\usepackage{algorithmic}

\usepackage{xcolor}
\definecolor{mygreen}{rgb}{0,0.6,0}
%\definecolor{mygray}{rgb}{0.5,0.5,0.5}
%\definecolor{mymauve}{rgb}{0.58,0,0.82}
%\definecolor{rulecolor}{rgb}{0.80,0.80,0.80}
%\definecolor{bgcolor}{rgb}{1.0,1.0,1.0}
\definecolor{myblue}{rgb}{0.95, 0.95, 1.}
%\definecolor{myblue}{blue1}{0.98}

%%%%%%%%%%%%%%%% code snippet %%%%%%%%%%%%%%%%%%%%%%
\usepackage{mdframed} % useful when the code is longer than 1 page

\usepackage{minted}
\definecolor{lightgray}{gray}{.98}
\newminted{python}{fontfamily=courier, fontsize=\footnotesize, bgcolor=lightgray}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% \usepackage{wrapfig}
% \usepackage{booktabs}
% \usepackage{amscd}
% \usepackage{latexsym}
% \usepackage{enumerate}
% \usepackage{soul}
% \usepackage{amsfonts}
\usepackage[normalem]{ulem}

% \newtheorem{definition}{Definition}
% \newtheorem{theorem}{Theorem}
% \newtheorem{corollary}{Corollary}
% \newtheorem{proposition}{Proposition}
% \newtheorem{lemma}{Lemma}
% \newtheorem{remark}{Remark}
% \numberwithin{equation}{section}
\newtheorem{notation}{\textbf{Notation}}

%\newtheorem{algorithm}{Algorithm}
\newtheorem{assumption}{Assumption}


\newcommand{\ie}{\emph{i.e.}{}}
\newcommand{\st}{\emph{s.t.}{}}
\newcommand{\eg}{\emph{e.g.}{}}
\newcommand\iid{\ensuremath{\mathit{i.i.d.}}\ }
\newcommand{\rv}{\emph{r.v.}{}}
\newcommand{\wrt}{\emph{w.r.t.}{}}
\newcommand{\cdf}{\emph{c.d.f.}{}}

\newcommand{\red}{\color{red} }
\newcommand\blue{\color{blue} }
\newcommand\green{\color{mygreen} }
% \newcommand{\tsf}{\texttt}
\newcommand{\ninf}[1]{\| {#1}\|_{\infty}}
\newcommand{\ud}{\mathrm{d}}
\newcommand{\dd}{\{1,\ldots,d\}}
\newcommand{\crit}{\mathcal{C}}
\newcommand{\hatmass}{\widehat{\mathcal{M}}}
%\renewcommand{\hatmass(\alpha)}{\widehat{M}(\alpha)}


\def\bb{\mathbb}
\def\mb{\mathbf}
\def\point{\,\cdot\,}
\def\P{\mathbb{P}}
\def\PP{\P}
\def\E{\mathbb{E}}
\def\EE{\E}
\def\rset{\mathbb{R}}
\def\nset{\mathbb{N}}
\def\cone{\mathcal{C}}
% \def\EM{{\sc EM}}
% \def\MV{{\sc MV}}
\def\stdf{{\sc stdf}}
\def\S{\mathcal{S}}
\def\xset{\mathcal{X}}
\def\crit{\mathcal{C}}
\def\roc{\textsc{ROC}}
\def\leb{\text{Leb}}
\def\Var{\mathbf{Var}}



\def\argmin{\operatornamewithlimits{arg\,min}}
\def\argmax{\operatornamewithlimits{arg\,max}}
\def\supess{\operatornamewithlimits{ess\,sup}}

%\newcommand{\argmax}{\mathop{\mathrm{arg\,max}}}











%% Dingbats
\newcommand{\tick}{\ding{51}}
\newcommand{\cross}{\ding{55}}

%% Calculus
\newcommand{\pd}[2]{\ensuremath{\frac{\partial #1}{\partial #2}}\xspace}
\newcommand{\fd}[2]{\ensuremath{\frac{d #1}{d #2}}\xspace}
\newcommand{\dint}{\ensuremath{\int\!\!\!\int}\xspace}
\newcommand{\tint}{\ensuremath{\int\!\!\!\int\!\!\!\int}\xspace}

%% Math Sets
\newcommand{\Q}[1]{\ensuremath{\mathbb{#1}}\xspace}
\newcommand{\R}{\Q{R}}

%% Matrix, Vector
\newcommand{\V}[1]{\ensuremath{\boldsymbol{#1}}\xspace}
\newcommand{\M}[1]{\ensuremath{\boldsymbol{#1}}\xspace}
\newcommand{\0}{\V{0}}
\newcommand{\1}{\V{1}}
\newcommand{\I}{\M{I}}

%% Math Functions
\newcommand{\F}[1]{\ensuremath{\mathrm{#1}}\xspace}
\newcommand{\sgn}{\F{sgn}}
\newcommand{\tr}{\F{trace}}
\newcommand{\diag}{\F{diag}}

%% Math Names
\newcommand{\N}[1]{\ensuremath{\mathit{#1}}\xspace}

%% Data
\newcommand{\mc}[1]{\ensuremath{\mathcal{#1}}\xspace}
\newcommand{\Hyp}{\mc{H}}
\newcommand{\D}{\mc{D}}

%% Kernel
\newcommand{\K}{\M{K}}
\newcommand{\eins}{\texorpdfstring{\ensuremath{\epsilon}}{\textepsilon}-insensitive\xspace}
\newcommand{\e}{\ensuremath{\epsilon}\xspace}
\newcommand{\Bxi}{\ensuremath{\boldsymbol{\xi}}\xspace}
\newcommand{\Kanova}{\ensuremath{\mathit{K_{ANOVA}}}\xspace}
\newcommand{\Kspline}{\ensuremath{\mathit{K_{spline}}}\xspace}

%% Bayesian
\newcommand{\MP}{\ensuremath{\mathit{{\scriptscriptstyle \hspace{-1.5pt}M\hspace{-1.5pt}P}}}\xspace}
\newcommand{\ML}{\ensuremath{\mathit{{\scriptscriptstyle \hspace{-1.5pt}M\hspace{-1.5pt}L}}}\xspace}
\newcommand{\Qw}{\ensuremath{Q_{\w}(\w)}\xspace}
\newcommand{\Qa}{\ensuremath{Q_{\Ba}(\Ba)}\xspace}
\newcommand{\Qb}{\ensuremath{Q_{\beta}(\beta)}\xspace}
\newcommand{\wMPab}{\ensuremath{\w_{\MP|\bar {\Ba},\bar \beta}}\xspace}
\newcommand{\wMP}{\ensuremath{\w_{\MP}}\xspace}
\newcommand{\yMP}{\ensuremath{y_{\MP}}\xspace}
\newcommand{\BaMP}{\ensuremath{\Ba_{\hspace{1pt}\MP}}\xspace}
\newcommand{\aMP}{\ensuremath{\alpha_{\hspace{1pt}\MP}}\xspace}
\newcommand{\bMP}{\ensuremath{\beta_{\hspace{1pt}\MP}}\xspace}
\newcommand{\Sab}{\ensuremath{\M{\Sigma}_{\bar \Ba,\bar \beta}}\xspace}
\newcommand{\Ba}{\ensuremath{\boldsymbol{\alpha}}\xspace}
\newcommand{\Bb}{\ensuremath{\boldsymbol{\beta}}\xspace}
\newcommand{\Bm}{\ensuremath{\boldsymbol{\mu}}\xspace}
\newcommand{\BL}{\ensuremath{\boldsymbol{\Lambda}}\xspace}
\newcommand{\BPhi}{\ensuremath{\boldsymbol{\Phi}}\xspace}
\newcommand{\SMP}{\ensuremath{\M{\Sigma}_{\MP}}\xspace}

\newcommand{\Pa}{\ensuremath{P(\alpha|\mathcal{H})}\xspace}
\newcommand{\Pb}{\ensuremath{P(\beta|\mathcal{H})}\xspace}
\newcommand{\Pab}{\ensuremath{P(\alpha,\beta|\mathcal{H})}\xspace}
\newcommand{\Pw}{\ensuremath{P(\w|\mathcal{H})}\xspace}
\newcommand{\PD}{\ensuremath{P(\D|\mathcal{H})}\xspace}
\newcommand{\PwIa}{\ensuremath{P(\w|\alpha,\mathcal{H})}\xspace}
\newcommand{\PDIwb}{\ensuremath{P(\D|\w,\beta,\mathcal{H})}\xspace}
\newcommand{\PDwab}{\ensuremath{P(\D,\w,\alpha,\beta|\mathcal{H})}\xspace}
\newcommand{\PDIw}{\ensuremath{P(\D|\w,\mathcal{H})}\xspace}
\newcommand{\PwID}{\ensuremath{P(\w|\D,\mathcal{H})}\xspace}
\newcommand{\PwabID}{\ensuremath{P(\w,\alpha,\beta|\D,\mathcal{H})}\xspace}

\newcommand{\PanH}{\ensuremath{P(\alpha)}\xspace}
\newcommand{\PbnH}{\ensuremath{P(\beta)}\xspace}
\newcommand{\PabnH}{\ensuremath{P(\alpha,\beta)}\xspace}
\newcommand{\PwnH}{\ensuremath{P(\w)}\xspace}
\newcommand{\PDnH}{\ensuremath{P(\D)}\xspace}
\newcommand{\PwIanH}{\ensuremath{P(\w|\alpha)}\xspace}
\newcommand{\PDIwbnH}{\ensuremath{P(\D|\w,\beta)}\xspace}
\newcommand{\PDwabnH}{\ensuremath{P(\D,\w,\Ba,\beta)}\xspace}
\newcommand{\PDIwnH}{\ensuremath{P(\D|\w)}\xspace}
\newcommand{\PwIDnH}{\ensuremath{P(\w|\D)}\xspace}
\newcommand{\PwabIDnH}{\ensuremath{P(\w,\alpha,\beta|\D)}\xspace}

\newcommand{\PDwBab}{\ensuremath{P(\D,\w,\Ba,\beta|\mathcal{H})}\xspace}
\newcommand{\PwIBa}{\ensuremath{P(\w|\Ba,\mathcal{H})}\xspace}
\newcommand{\PBab}{\ensuremath{P(\Ba,\beta|\mathcal{H})}\xspace}
\newcommand{\PwBabID}{\ensuremath{P(\w,\Ba,\beta|\D,\mathcal{H})}\xspace}

\newcommand{\PBanH}{\ensuremath{P(\Ba)}\xspace}
\newcommand{\PwIBanH}{\ensuremath{P(\w|\Ba)}\xspace}

%% Snakes
\newcommand{\Esnake}{\ensuremath{\mathit{E_{snake}}}\xspace}
\newcommand{\Eimage}{\ensuremath{\mathit{E_{image}}}\xspace}
\newcommand{\Econt}{\ensuremath{\mathit{E_{cont}}}\xspace}
\newcommand{\Ecurv}{\ensuremath{\mathit{E_{curv}}}\xspace}
\newcommand{\Eint}{\ensuremath{\mathit{E_{int}}}\xspace}
\newcommand{\Eext}{\ensuremath{\mathit{E_{ext}}}\xspace}
\newcommand{\Eterm}{\ensuremath{\mathit{E_{term}}}\xspace}
\newcommand{\Eline}{\ensuremath{\mathit{E_{line}}}\xspace}
\newcommand{\Eedge}{\ensuremath{\mathit{E_{edge}}}\xspace}
\newcommand{\Econ}{\ensuremath{\mathit{E_{con}}}\xspace}
\newcommand{\Eangle}{\ensuremath{\mathit{E_{angle}}}\xspace}
\newcommand{\Elshape}{\ensuremath{\mathit{E_{lshape}}}\xspace}
\newcommand{\Eedgedir}{\ensuremath{\mathit{E_{edgedir}}}\xspace}
\newcommand{\Emodel}{\ensuremath{\mathit{E_{model}}}\xspace}
\newcommand{\wte}{\ensuremath{\mathit{w_{term}}}\xspace}
\newcommand{\wli}{\ensuremath{\mathit{w_{line}}}\xspace}
\newcommand{\wed}{\ensuremath{\mathit{w_{edge}}}\xspace}
\newcommand{\wco}{\ensuremath{\mathit{w_{con}}}\xspace}

%% Environments
% \newcounter{alg}
% \newenvironment{algorithm}[1]
% {
%     \stepcounter{alg}
%     \begin{table}[htb]
%     \centering
%     \begin{tabular}[t]{ll}
%     \hline&\\
%     \multicolumn{2}{l}{\bf Algorithm \arabic{alg}: #1}\\&\\
% } {
%     &\\
%     \hline
%     \end{tabular}
%     \end{table}
% }
\newcommand{\innerp}[1]{\left\langle #1 \right\rangle}
\DeclareMathOperator{\rank}{rank}

% \usepackage{amsfonts}
% \newcommand{\tickYes}{\textcolor{green}{\checkmark}}
% \usepackage{pifont}
% \newcommand{\tickNo}{\textcolor{red}{\hspace{1pt}\ding{55}}}

\usepackage{epigraph}
%\setlength{\epigraphwidth}{0.7\textwidth}
%\epigraph{There is nothing more practical than a good theory}{\textit{Kurt Lewin}}

% nicer backref links
%\renewcommand*{\backref}[1]{}
%\renewcommand*{\backrefalt}[4]{%
%\ifcase #1 %
%(Not cited.)%
%\or
%(Cited on page~#2)%
%\else
%(Cited on pages~#2)%
%\fi}
%\renewcommand*{\backrefsep}{, }
%\renewcommand*{\backreftwosep}{ and~}
%\renewcommand*{\backreflastsep}{ and~}

\usepackage{gastex}

\newenvironment{proof2}[1][Proof]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\end{trivlist}}
\newenvironment{proof3}[1][]{\begin{trivlist}
\item[\hskip \labelsep {\bfseries #1}]}{\hfill$\Box$\end{trivlist}}

%\definecolor{gray2}{gray}{0.97}
\makeatletter\newenvironment{bc_box}{%
   \begin{lrbox}{\@tempboxa}\begin{minipage}{0.9\columnwidth}}{\end{minipage}\end{lrbox}%
   {\setlength{\fboxsep}{8pt}\colorbox{myblue}{\usebox{\@tempboxa}}}
}\makeatother
\newenvironment{chapabstract}{
  \begin{small}
  \begin{center}
  \begin{bc_box}\textbf{Abstract}
}{
  \end{bc_box}
  \end{center}
  \end{small}
}

\makeatletter\newenvironment{bc_box_abstract_end}{%
   \begin{lrbox}{\@tempboxa}\begin{minipage}{\columnwidth}}{\end{minipage}\end{lrbox}%
   {\setlength{\fboxsep}{8pt}\colorbox{myblue}{\usebox{\@tempboxa}}}
}\makeatother

\usepackage{bibentry}
\makeatletter
\let\BRatbibitem\BR@bibitem
\makeatother

\usepackage{titlesec}
\titleformat{\chapter}[display]{\Large\bfseries}{\titlerule\vspace*{-12pt}\filleft\MakeUppercase{\chaptertitlename} \Huge\thechapter\vspace*{-12pt}}{0pt}{\filleft\Large\bfseries\sffamily}[\titlerule]
%\titlespacing*{\chapter}{0pt}{50pt}{40pt}

\titleformat{\part}[frame]{\LARGE\bfseries}{\filcenter\MakeUppercase{\partname} \Huge\thepart}{30pt}{\filcenter\Huge\bfseries\sffamily}

\usepackage[all]{hypcap} % make figure/table links point at the top instead of bottom

\usepackage{booktabs} % better tables
\renewcommand{\arraystretch}{1.1}

%\DeclareMathOperator{\sign}{sign}


% change margins pour l'abstract:
\newenvironment{changemargin}[2]{%
\begin{list}{}{%
\setlength{\topsep}{0pt}%
\setlength{\leftmargin}{#1}%
\setlength{\rightmargin}{#2}%
\setlength{\listparindent}{\parindent}%
\setlength{\itemindent}{\parindent}%
\setlength{\parsep}{\parskip}%
}%
\item[]}{\end{list}}
